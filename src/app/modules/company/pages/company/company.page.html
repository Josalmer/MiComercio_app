<ion-content *ngIf="company">
  <app-page-layout>
    <div layout-position="main">
      <ion-refresher slot="fixed" (ionRefresh)="refreshData($event)">
        <ion-refresher-content></ion-refresher-content>
      </ion-refresher>
      <app-header pathRoute="/companies">
        <ion-row header-position="main">
          <ion-col>
            <h2 class="title center">{{ company.name }}</h2>
          </ion-col>
        </ion-row>
      </app-header>
    </div>

    <div layout-position="content" class="container">
      <app-company-data [company]="company"></app-company-data>

      <h5 *ngIf="userAppointments.length === 0">{{'COMPANIES.NO_APPOINTMENTS' | translate}}</h5>

      <app-appointment-card class="width-100" *ngFor="let appointment of userAppointments" [appointment]="appointment" (deleteAppointment)="removeAppointment($event)" [role]="'user'" [section]="'company'"></app-appointment-card>

      <ion-button class="btn width-100" color="maincolor" (click)="requestAppointment()">
        {{ 'COMPANIES.REQUEST_APPOINTMENT' | translate }}
      </ion-button>
      <ion-button *ngIf="company.fistAvailableAppointment" class="btn width-100 margin-5" color='maincolor' (click)="requestFirstAvailableAppointment()">{{ 'COMPANIES.FIRST_AVAILABLE_APPOINTMENT' | translate }}: {{company.fistAvailableAppointment.start | date: 'dd/MM/yyyy  HH:mm' }}<ion-icon style="padding-left: 20px;" name="archive"></ion-icon></ion-button>

      <h5>{{company.description}}</h5>
    </div>
  </app-page-layout>
</ion-content>